<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Assignments | The Only Problem's Blog</title><meta name=keywords content><meta name=description content="Assignment 系列，放一些课业相关的任务和作业"><meta name=author content="The Only Problem"><link rel=canonical href=https://congyuxiaoyoudao.github.io/posts/assignments/><link crossorigin=anonymous href=/assets/css/stylesheet.452758010f0b7fc9ad7fa528ffdfdd8eb9e830816fb8c8119f16f39583297db8.css integrity="sha256-RSdYAQ8Lf8mtf6Uo/9/djrnoMIFvuMgRnxbzlYMpfbg=" rel="preload stylesheet" as=style><link rel=icon href=https://congyuxiaoyoudao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://congyuxiaoyoudao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://congyuxiaoyoudao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://congyuxiaoyoudao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://congyuxiaoyoudao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://congyuxiaoyoudao.github.io/posts/assignments/index.xml><link rel=alternate type=application/json href=https://congyuxiaoyoudao.github.io/posts/assignments/index.json><link rel=alternate hreflang=zh href=https://congyuxiaoyoudao.github.io/posts/assignments/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css integrity=sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js integrity=sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js integrity=sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk crossorigin=anonymous onload='window.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\$$",right:"\\\\$$",display:!1},{left:"\\$$",right:"\\\\$$",display:!0}]})})'></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css><meta property="og:url" content="https://congyuxiaoyoudao.github.io/posts/assignments/"><meta property="og:site_name" content="The Only Problem's Blog"><meta property="og:title" content="Assignments"><meta property="og:description" content="Assignment 系列，放一些课业相关的任务和作业"><meta property="og:locale" content="zh"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Assignments"><meta name=twitter:description content="Assignment 系列，放一些课业相关的任务和作业"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://congyuxiaoyoudao.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Assignments","item":"https://congyuxiaoyoudao.github.io/posts/assignments/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://congyuxiaoyoudao.github.io/ accesskey=h title="The Only Problem's Blog (Alt + H)">The Only Problem's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://congyuxiaoyoudao.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://congyuxiaoyoudao.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://congyuxiaoyoudao.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://congyuxiaoyoudao.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://congyuxiaoyoudao.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://congyuxiaoyoudao.github.io/posts/>Posts</a></div><h1>Assignments
<a href=/posts/assignments/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1><div class=post-description>Assignment 系列，放一些课业相关的任务和作业</div></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Assignment 8. GAMES202 Homework 5</h2></header><div class=entry-content><p>202 系列完结撒花 ✿✿ヽ(°▽°)ノ✿！
0x00 To begin with 这篇文章将会包含以下内容：
部分课程内容回顾 GAMES202 作业 5 For reference👇：
📺B 站视频： GAMES202-高质量实时渲染 📦代码仓库： congyuxiaoyoudao/GAMES202_Homework at working 作业5发布公告及场景下载 📖 GAMES202-作业5：实时光线追踪降噪 master 分支上是 202 全部作业汇总，working 分支用于提交代码。需要原始作业可下载 master 分支的包
0x01 问题修复 TroubleShooting 做作业时遇到一些出现问题的地方，这里一并提一下：
运行 build.bat 后 build 目录下没有出现可执行文件 ReadFloatImage 方法报错 mathutil.h 中 uint32_t was not declared in this scope 第一个问题纯属对 Cmake 不熟练，build.bat 提供的命令只是生成工程文件，要运行构建还需要如下命令（或者直接用 VS 等 IDE 运行）：
1cmake --build build 这里为了简化运行操作，新增了一个 run.bat：
1cmake --build build 2cd build 3Denoise.exe 4cd .. 第二个问题为路径错误，下载完场景后我的根目录文件结构如下：
...</p></div><footer class=entry-footer><span title='2025-06-16 00:00:00 +0000 UTC'>六月 16, 2025</span>&nbsp;·&nbsp;7 分钟&nbsp;·&nbsp;The Only Problem</footer><a class=entry-link aria-label="post link to Assignment 8. GAMES202 Homework 5" href=https://congyuxiaoyoudao.github.io/posts/assignments/games202-homework-5/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Assignment 7. GAMES202 Homework 4</h2></header><div class=entry-content><p>好久不见！最近在忙别的工作，这几天难得有时间，赶紧把 202 系列作业做个收尾ε٩(๑> ₃ &lt;)۶з！
0x00 To begin with 这篇文章将会包含以下内容：
部分课程内容回顾 GAMES202 作业 4 For reference👇：
📺B 站视频： GAMES202-高质量实时渲染 📦代码仓库： congyuxiaoyoudao/GAMES202_Homework at working 📃 Revisiting Physically Based Shading at Imageworks master 分支上是 202 全部作业汇总，working 分支用于提交代码。需要原始作业可下载 master 分支的包
0x01 课程回顾 Recap 能量守恒的 BSDF Energy-Preserving BSDFs Cook-Torrance 提出的微表面 BRDF 只考虑光线在表面经过一次弹射后出射到观察方向的能量，然而忽略了多次弹射最终出射到观察方向的能量，这就造成了能量损失。尤其是当材质的 roughness 较高时，G 项减小，多次弹射的比例增加，能量损失越严重。
2017 年 Kulla 和 Conty 受到 Disney Principle BRDF 的启发，提出了一种改进的方法，即通过引入一个能量补偿项，将多次弹射出射到观察方向的能量补充回来，就能近似地保持能量守恒。
...</p></div><footer class=entry-footer><span title='2025-06-14 00:00:00 +0000 UTC'>六月 14, 2025</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;The Only Problem</footer><a class=entry-link aria-label="post link to Assignment 7. GAMES202 Homework 4" href=https://congyuxiaoyoudao.github.io/posts/assignments/games202-homework-4/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Assignment 6. GAMES202 Homework 3</h2></header><div class=entry-content><p>HiZ 还在施工中……
0x00 To begin with 这篇文章将会包含以下内容：
部分课程内容回顾 GAMES202 作业 3 For reference👇：
📺B 站视频： GAMES202-高质量实时渲染 📦代码仓库： congyuxiaoyoudao/GAMES202_Homework at working master 分支上是 202 全部作业汇总，working 分支用于提交代码。需要原始作业可下载 master 分支的包
0x01 课程回顾 Recap SSR（Screen Space Reflection）是一种基于屏幕空间的反射算法，也被应用于模拟全局光照。因为是屏幕空间的算法，不能且无需像传统全局光照算法那样需要获取场景的原始几何信息，而是只在当前相机的视野范围计算反射，所以效率相对较高，但也存在一些屏幕空间的 Artifacts。
SSR 算法有两个假设：
屏幕范围内的反射光，其反射源也同样来自屏幕空间的某个像素； 所有被直接光照亮的物体（在屏幕空间中则表现为像素），都可以作为次级光源参与对反射的贡献； SSR 对反射表面没有要求，即不仅能模拟镜面反射，还可以模拟各种粗糙度的反射
SSR 算法的步骤如下：
对每个需要计算反射的像素沿反射方向发射一条光线； 沿光线方向步进在屏幕空间中查找深度缓冲并与场景求交； 若有交点，则将交点颜色作为反射颜色添加到原始像素上； 其中最关键的步骤就是光线求交，最简单的方法就是 Linear RayMarching，光线每次行进一个固定的距离，每次行进后获取该位置的深度值再与场景深度进行比较，如果某次判断光线深度大于场景深度，则认为发生了相交。
当然这种方法的精细度很依赖光线步长，小的步长效果更好但消耗大，反之，更大的步长则可能导致光线“穿过”场景而误判相交，造成错误计算反射的情况。
为了在提高精度的同时节省开销，研究人员又提出了一种动态步长的方法，即 Hierarchical ray trace。允许光线根据场景信息在行进期间选取不同的步长，例图中光线一开始至少可以以 7 倍的 gap 作为步长，之后再缩减到原始的步长。
说到实时渲染中的一些动态操作，几乎就离不开预处理。同样的，这种方法运行的前提是，光线需要知道行进的“最大安全距离”，即可以迈多大的步子而不与场景发生相交。
这里最大安全距离是类比 SDF 的说法，或者应该说当前层级规定的步长
...</p></div><footer class=entry-footer><span title='2025-05-10 00:00:00 +0000 UTC'>五月 10, 2025</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;The Only Problem</footer><a class=entry-link aria-label="post link to Assignment 6. GAMES202 Homework 3" href=https://congyuxiaoyoudao.github.io/posts/assignments/games202-homework-3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Assignment 5. GAMES202 Homework 2</h2></header><div class=entry-content><p>(∩^o^)⊃━☆ﾟ.*･｡
0x00 To begin with 这篇文章将会包含以下内容：
部分课程内容回顾 GAMES202 作业 2 For reference👇：
📺B 站视频： GAMES202-高质量实时渲染 📦代码仓库： congyuxiaoyoudao/GAMES202_Homework at working 📃 The rendering equation | ACM SIGGRAPH Computer Graphics 📃 Precomputed radiance transfer for real-time rendering in dynamic, low-frequency lighting environments | ACM Transactions on Graphics master 分支上是 202 全部作业汇总，working 分支用于提交代码。需要原始作业可下载 master 分支的包
0x01 前置准备 Warm Up 渲染方程 Render Equation James T. Kajiya（没错就是那个提出 Kajiya-Kay 头发着色模型的 Kajiya）在 1986 年提出了渲染方程（The Render Equation），原论文里长这样：
$$ I(x,x')=g(x,x')\left[ \epsilon(x,x')+\int_{S}\rho(x,x',x'')I(x',x'')dx'' \right] $$ 当然现在看得更舒服的形式长这样：
...</p></div><footer class=entry-footer><span title='2025-04-19 00:00:00 +0000 UTC'>四月 19, 2025</span>&nbsp;·&nbsp;12 分钟&nbsp;·&nbsp;The Only Problem</footer><a class=entry-link aria-label="post link to Assignment 5. GAMES202 Homework 2" href=https://congyuxiaoyoudao.github.io/posts/assignments/games202-homework-2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Assignment 4. GAMES202 Homework 1</h2></header><div class=entry-content><p>🚩 0x00 To begin with 这篇文章将会包含以下内容：
GAMES202 作业 1 For reference👇：
📺 B 站视频： GAMES202-高质量实时渲染 📦 代码仓库： congyuxiaoyoudao/GAMES202_Homework at working master 分支上是 202 全部作业汇总，working 分支用于提交代码。需要原始作业可下载 master 分支的包
0x01 Shadow Map 完成两个任务点：
第一个 Pass 以光源作为相机渲染一张 ShadowMap，需要为 Shader 传递正确的 uLightMVP 矩阵； 第二个 Pass 获取光源传递的统一变量 FBO （ShadowMap），需要比较当前 ShadingPoint 的深度值与 ShadowMap 上记录的深度值，得出可见性项与 Shading 结果相乘。 DirectionalLight.js 中，完善 CalcLightMVP 函数：
1 // Model transform 2 mat4.translate(modelMatrix, modelMatrix, translate); 3 mat4.scale(modelMatrix, modelMatrix, scale); 4 5 // View transform 6 mat4.lookAt(viewMatrix, this.lightPos, this.focalPoint, this.lightUp); 7 8 // Projection transform 9 var r = 100; 10 var l = -r; 11 var t = 100; 12 var b = -t; 13 var n = 0.01; 14 // caution! Depth of far plane should be a bit more larger 15 var f = 400; 16 17 mat4.ortho(projectionMatrix, l, r, b, t, n, f); 远平面需设置得稍微大一点，避免光源的视锥范围无法覆盖全部场景
...</p></div><footer class=entry-footer><span title='2025-04-14 00:00:00 +0000 UTC'>四月 14, 2025</span>&nbsp;·&nbsp;7 分钟&nbsp;·&nbsp;The Only Problem</footer><a class=entry-link aria-label="post link to Assignment 4. GAMES202 Homework 1" href=https://congyuxiaoyoudao.github.io/posts/assignments/games202-homework-1/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://congyuxiaoyoudao.github.io/posts/assignments/page/2/>下一页&nbsp;2/2&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://congyuxiaoyoudao.github.io/>The Only Problem's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>